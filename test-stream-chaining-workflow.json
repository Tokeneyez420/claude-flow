{
  "name": "Stream Chaining Test Workflow",
  "version": "1.0.0",
  "description": "Test workflow to demonstrate stream-json chaining between agents",
  "agents": [
    {
      "id": "analyzer",
      "type": "researcher",
      "name": "Data Analyzer",
      "config": {
        "capabilities": ["data_analysis", "pattern_recognition"]
      }
    },
    {
      "id": "processor", 
      "type": "coder",
      "name": "Data Processor",
      "config": {
        "capabilities": ["data_transformation", "feature_engineering"]
      }
    },
    {
      "id": "reporter",
      "type": "analyst",
      "name": "Report Generator",
      "config": {
        "capabilities": ["visualization", "reporting"]
      }
    }
  ],
  "tasks": [
    {
      "id": "analyze_data",
      "name": "Analyze Dataset",
      "type": "analysis",
      "description": "Analyze the dataset and identify patterns",
      "assignTo": "analyzer",
      "claudePrompt": "Analyze this test dataset and output insights as stream-json. Focus on: 1) Data types, 2) Statistical summary, 3) Patterns found. Format your output for the next agent to consume.",
      "timeout": 60000
    },
    {
      "id": "process_insights",
      "name": "Process Analysis Results",
      "type": "processing",
      "description": "Process the analysis results and prepare features",
      "assignTo": "processor",
      "depends": ["analyze_data"],
      "claudePrompt": "You are receiving analysis results from the previous agent via stream-json. Process these insights and: 1) Create feature recommendations, 2) Suggest data transformations, 3) Prepare structured output for reporting. Continue the stream-json chain.",
      "timeout": 60000
    },
    {
      "id": "generate_report",
      "name": "Generate Final Report",
      "type": "reporting",
      "description": "Generate a comprehensive report from processed data",
      "assignTo": "reporter",
      "depends": ["process_insights"],
      "claudePrompt": "You are the final agent in the chain, receiving processed insights via stream-json. Generate a comprehensive report that: 1) Summarizes the analysis, 2) Lists all features and transformations, 3) Provides actionable recommendations. Complete the workflow.",
      "timeout": 60000
    }
  ],
  "settings": {
    "maxConcurrency": 1,
    "timeout": 300000,
    "failurePolicy": "continue"
  }
}