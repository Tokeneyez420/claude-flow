{
  "id": "mle-star-workflow",
  "name": "MLE-STAR: Machine Learning Engineering with STAR Methodology",
  "description": "Flagship workflow implementing the MLE-STAR methodology with web search, ablation-driven outer loop, focused refinement inner loop, ensemble creation, and robustness validation",
  "version": "1.0.0",
  "category": "machine-learning",
  "tags": ["mle-star", "machine-learning", "research", "ensemble", "ablation", "robustness"],
  "metadata": {
    "author": "Claude Flow Team",
    "created": "2025-08-04",
    "complexity": "advanced",
    "estimatedDuration": "4-6 hours",
    "prerequisites": ["python", "git", "research-skills"],
    "nonInteractive": true
  },
  "configuration": {
    "swarm": {
      "topology": "hierarchical",
      "maxAgents": 8,
      "strategy": "adaptive",
      "autoScale": true
    },
    "coordination": {
      "memoryNamespace": "mle-star",
      "checkpointInterval": 300,
      "retryAttempts": 3,
      "timeoutMinutes": 60
    },
    "hooks": {
      "preTask": ["validation", "resource-check"],
      "postTask": ["metrics-collection", "artifact-storage"],
      "onError": ["rollback", "notify"]
    }
  },
  "agents": [
    {
      "id": "research-coordinator",
      "type": "researcher",
      "role": "primary",
      "capabilities": ["web-search", "literature-review", "trend-analysis"],
      "resources": {
        "memory": "high",
        "priority": "critical"
      }
    },
    {
      "id": "ml-architect",
      "type": "system-architect",
      "role": "specialist",
      "capabilities": ["model-design", "architecture-planning", "optimization"],
      "resources": {
        "memory": "high",
        "priority": "high"
      }
    },
    {
      "id": "ablation-engineer",
      "type": "code-analyzer",
      "role": "specialist",
      "capabilities": ["ablation-studies", "feature-analysis", "statistical-validation"],
      "resources": {
        "memory": "medium",
        "priority": "high"
      }
    },
    {
      "id": "ensemble-builder",
      "type": "coder",
      "role": "specialist",
      "capabilities": ["ensemble-methods", "model-combination", "stacking"],
      "resources": {
        "memory": "medium",
        "priority": "high"
      }
    },
    {
      "id": "robustness-validator",
      "type": "tester",
      "role": "specialist",
      "capabilities": ["robustness-testing", "adversarial-validation", "stress-testing"],
      "resources": {
        "memory": "medium",
        "priority": "medium"
      }
    },
    {
      "id": "performance-optimizer",
      "type": "performance-benchmarker",
      "role": "specialist",
      "capabilities": ["performance-tuning", "benchmark-analysis", "scalability-testing"],
      "resources": {
        "memory": "medium",
        "priority": "medium"
      }
    },
    {
      "id": "documentation-specialist",
      "type": "api-docs",
      "role": "support",
      "capabilities": ["technical-writing", "documentation", "visualization"],
      "resources": {
        "memory": "low",
        "priority": "low"
      }
    },
    {
      "id": "orchestrator",
      "type": "task-orchestrator",
      "role": "coordinator",
      "capabilities": ["workflow-management", "task-coordination", "progress-tracking"],
      "resources": {
        "memory": "high",
        "priority": "critical"
      }
    }
  ],
  "phases": [
    {
      "id": "phase1-search",
      "name": "Web Search & Research Phase",
      "description": "Comprehensive research using multiple search agents",
      "parallelizable": true,
      "dependencies": [],
      "estimatedDuration": 45,
      "steps": [
        {
          "id": "literature-search",
          "name": "Literature Search",
          "agent": "research-coordinator",
          "action": "web-search",
          "parameters": {
            "queries": [
              "state-of-the-art machine learning {domain} 2024",
              "ensemble methods {domain} recent advances",
              "ablation studies methodology {domain}",
              "robustness evaluation machine learning {domain}"
            ],
            "sources": ["arxiv", "scholar", "github", "paperswithcode"],
            "maxResults": 50,
            "timeWindow": "2023-2024"
          },
          "outputs": ["research-papers", "trend-analysis", "sota-methods"]
        },
        {
          "id": "architecture-research",
          "name": "Architecture Research",
          "agent": "ml-architect",
          "action": "analyze-architectures",
          "parameters": {
            "focus": ["transformer-variants", "hybrid-models", "efficient-architectures"],
            "metrics": ["accuracy", "efficiency", "scalability"],
            "constraints": "{computational-budget}"
          },
          "outputs": ["architecture-candidates", "design-patterns", "trade-offs"]
        },
        {
          "id": "baseline-identification",
          "name": "Baseline Identification",
          "agent": "research-coordinator",
          "action": "identify-baselines",
          "parameters": {
            "criteria": ["popularity", "performance", "reproducibility"],
            "count": 5
          },
          "outputs": ["baseline-models", "benchmark-datasets", "evaluation-metrics"]
        }
      ]
    },
    {
      "id": "phase2-ablation-outer-loop",
      "name": "Ablation-Driven Outer Loop",
      "description": "Systematic ablation studies to identify key components",
      "parallelizable": false,
      "dependencies": ["phase1-search"],
      "estimatedDuration": 90,
      "iterations": {
        "type": "adaptive",
        "maxIterations": 5,
        "convergenceCriteria": "improvement < 0.01"
      },
      "steps": [
        {
          "id": "component-identification",
          "name": "Component Identification",
          "agent": "ablation-engineer",
          "action": "identify-components",
          "parameters": {
            "architectures": "{architecture-candidates}",
            "granularity": ["layer-level", "module-level", "hyperparameter-level"]
          },
          "outputs": ["component-list", "dependency-graph", "ablation-matrix"]
        },
        {
          "id": "ablation-design",
          "name": "Ablation Study Design",
          "agent": "ablation-engineer",
          "action": "design-ablation",
          "parameters": {
            "components": "{component-list}",
            "strategy": "factorial",
            "controlVariables": ["random-seed", "data-split", "initialization"]
          },
          "outputs": ["experiment-plan", "control-conditions", "measurement-protocol"]
        },
        {
          "id": "batch-experiments",
          "name": "Batch Experiment Execution",
          "agent": "ml-architect",
          "action": "run-experiments",
          "parameters": {
            "plan": "{experiment-plan}",
            "parallelization": "gpu-cluster",
            "monitoring": ["loss-curves", "validation-metrics", "resource-usage"]
          },
          "outputs": ["experiment-results", "performance-metrics", "resource-profiles"]
        },
        {
          "id": "component-ranking",
          "name": "Component Importance Ranking",
          "agent": "ablation-engineer",
          "action": "rank-components",
          "parameters": {
            "results": "{experiment-results}",
            "metrics": ["performance-impact", "statistical-significance", "interaction-effects"],
            "method": "shapley-value"
          },
          "outputs": ["component-rankings", "interaction-analysis", "significance-tests"]
        },
        {
          "id": "architecture-refinement",
          "name": "Architecture Refinement",
          "agent": "ml-architect",
          "action": "refine-architecture",
          "parameters": {
            "rankings": "{component-rankings}",
            "keepTopK": 0.7,
            "optimizationTarget": "pareto-optimal"
          },
          "outputs": ["refined-architecture", "pruning-decisions", "optimization-rationale"]
        }
      ]
    },
    {
      "id": "phase3-refinement-inner-loop",
      "name": "Focused Refinement Inner Loop",
      "description": "Intensive optimization of refined architecture",
      "parallelizable": true,
      "dependencies": ["phase2-ablation-outer-loop"],
      "estimatedDuration": 120,
      "iterations": {
        "type": "fixed",
        "count": 3,
        "parallelization": "hyperparameter-search"
      },
      "steps": [
        {
          "id": "hyperparameter-optimization",
          "name": "Hyperparameter Optimization",
          "agent": "performance-optimizer",
          "action": "optimize-hyperparameters",
          "parameters": {
            "architecture": "{refined-architecture}",
            "method": "bayesian-optimization",
            "budget": "1000-trials",
            "objective": "multi-objective"
          },
          "outputs": ["optimal-hyperparameters", "optimization-history", "pareto-front"]
        },
        {
          "id": "training-optimization",
          "name": "Training Process Optimization",
          "agent": "performance-optimizer",
          "action": "optimize-training",
          "parameters": {
            "techniques": ["learning-rate-scheduling", "gradient-clipping", "regularization"],
            "early-stopping": "validation-based",
            "checkpointing": "best-model"
          },
          "outputs": ["training-recipe", "convergence-analysis", "best-checkpoints"]
        },
        {
          "id": "data-augmentation",
          "name": "Data Augmentation Strategy",
          "agent": "ml-architect",
          "action": "design-augmentation",
          "parameters": {
            "techniques": ["domain-specific", "learned-augmentation", "mixup-variants"],
            "validation": "cross-validation",
            "intensity": "adaptive"
          },
          "outputs": ["augmentation-pipeline", "validation-results", "performance-gains"]
        },
        {
          "id": "model-distillation",
          "name": "Knowledge Distillation",
          "agent": "ensemble-builder",
          "action": "apply-distillation",
          "parameters": {
            "teacher": "ensemble-model",
            "student": "{refined-architecture}",
            "temperature": "learnable",
            "loss-weighting": "adaptive"
          },
          "outputs": ["distilled-model", "compression-ratio", "performance-retention"]
        }
      ]
    },
    {
      "id": "phase4-ensemble-creation",
      "name": "Ensemble Creation",
      "description": "Build robust ensemble from refined models",
      "parallelizable": true,
      "dependencies": ["phase3-refinement-inner-loop"],
      "estimatedDuration": 60,
      "steps": [
        {
          "id": "model-diversity-analysis",
          "name": "Model Diversity Analysis",
          "agent": "ensemble-builder",
          "action": "analyze-diversity",
          "parameters": {
            "models": "{refined-models}",
            "metrics": ["prediction-diversity", "error-correlation", "feature-importance"],
            "selection-strategy": "diversity-accuracy-tradeoff"
          },
          "outputs": ["diversity-matrix", "correlation-analysis", "selection-criteria"]
        },
        {
          "id": "ensemble-methods",
          "name": "Ensemble Method Selection",
          "agent": "ensemble-builder",
          "action": "select-ensemble-method",
          "parameters": {
            "methods": ["voting", "stacking", "bayesian-averaging", "dynamic-weighting"],
            "meta-learner": "gradient-boosting",
            "cross-validation": "stratified-k-fold"
          },
          "outputs": ["ensemble-architecture", "meta-model", "weighting-scheme"]
        },
        {
          "id": "ensemble-training",
          "name": "Ensemble Training",
          "agent": "ensemble-builder",
          "action": "train-ensemble",
          "parameters": {
            "base-models": "{selected-models}",
            "method": "{ensemble-architecture}",
            "regularization": "l2-penalty",
            "validation": "hold-out"
          },
          "outputs": ["trained-ensemble", "meta-model-weights", "validation-performance"]
        },
        {
          "id": "ensemble-pruning",
          "name": "Ensemble Pruning",
          "agent": "ensemble-builder",
          "action": "prune-ensemble",
          "parameters": {
            "ensemble": "{trained-ensemble}",
            "criteria": ["contribution-threshold", "redundancy-removal"],
            "target-size": "pareto-optimal"
          },
          "outputs": ["pruned-ensemble", "pruning-decisions", "performance-impact"]
        }
      ]
    },
    {
      "id": "phase5-robustness-validation",
      "name": "Robustness Validation",
      "description": "Comprehensive validation of model robustness",
      "parallelizable": true,
      "dependencies": ["phase4-ensemble-creation"],
      "estimatedDuration": 75,
      "steps": [
        {
          "id": "adversarial-testing",
          "name": "Adversarial Robustness Testing",
          "agent": "robustness-validator",
          "action": "test-adversarial",
          "parameters": {
            "attacks": ["fgsm", "pgd", "c&w", "autoattack"],
            "epsilons": [0.01, 0.03, 0.1],
            "metrics": ["robust-accuracy", "attack-success-rate"]
          },
          "outputs": ["adversarial-results", "robustness-curves", "vulnerability-analysis"]
        },
        {
          "id": "distributional-shift-testing",
          "name": "Distribution Shift Testing",
          "agent": "robustness-validator",
          "action": "test-distribution-shift",
          "parameters": {
            "shifts": ["covariate-shift", "label-shift", "concept-drift"],
            "datasets": ["domain-adaptation", "synthetic-corruption"],
            "severity-levels": [1, 2, 3, 4, 5]
          },
          "outputs": ["shift-performance", "degradation-analysis", "adaptation-strategies"]
        },
        {
          "id": "uncertainty-quantification",
          "name": "Uncertainty Quantification",
          "agent": "robustness-validator",
          "action": "quantify-uncertainty",
          "parameters": {
            "methods": ["mc-dropout", "deep-ensembles", "variational-inference"],
            "calibration": "temperature-scaling",
            "evaluation": ["reliability-diagram", "ece", "mce"]
          },
          "outputs": ["uncertainty-estimates", "calibration-results", "reliability-metrics"]
        },
        {
          "id": "stress-testing",
          "name": "Stress Testing",
          "agent": "robustness-validator",
          "action": "stress-test",
          "parameters": {
            "scenarios": ["high-load", "edge-cases", "boundary-conditions"],
            "metrics": ["latency", "throughput", "memory-usage", "accuracy-degradation"],
            "duration": "sustained-load"
          },
          "outputs": ["stress-results", "performance-limits", "failure-modes"]
        }
      ]
    },
    {
      "id": "phase6-documentation",
      "name": "Documentation & Reporting",
      "description": "Comprehensive documentation of the MLE-STAR process",
      "parallelizable": true,
      "dependencies": ["phase5-robustness-validation"],
      "estimatedDuration": 30,
      "steps": [
        {
          "id": "technical-documentation",
          "name": "Technical Documentation",
          "agent": "documentation-specialist",
          "action": "create-documentation",
          "parameters": {
            "sections": ["methodology", "architecture", "experiments", "results"],
            "format": "markdown",
            "include": ["code", "figures", "tables", "references"]
          },
          "outputs": ["technical-report", "architecture-diagrams", "result-tables"]
        },
        {
          "id": "reproducibility-package",
          "name": "Reproducibility Package",
          "agent": "documentation-specialist",
          "action": "create-reproducibility-package",
          "parameters": {
            "components": ["code", "data", "models", "configs", "environment"],
            "format": "docker-container",
            "validation": "independent-reproduction"
          },
          "outputs": ["reproduction-package", "setup-instructions", "validation-results"]
        },
        {
          "id": "performance-dashboard",
          "name": "Performance Dashboard",
          "agent": "documentation-specialist",
          "action": "create-dashboard",
          "parameters": {
            "metrics": ["accuracy", "robustness", "efficiency", "uncertainty"],
            "visualizations": ["charts", "heatmaps", "comparisons"],
            "interactivity": "web-based"
          },
          "outputs": ["dashboard", "visualization-scripts", "metric-summaries"]
        }
      ]
    }
  ],
  "workflows": {
    "sequential": ["phase1-search", "phase2-ablation-outer-loop", "phase3-refinement-inner-loop", "phase4-ensemble-creation", "phase5-robustness-validation", "phase6-documentation"],
    "parallel-opportunities": [
      ["literature-search", "architecture-research", "baseline-identification"],
      ["hyperparameter-optimization", "training-optimization", "data-augmentation"],
      ["model-diversity-analysis", "ensemble-methods"],
      ["adversarial-testing", "distributional-shift-testing", "uncertainty-quantification", "stress-testing"],
      ["technical-documentation", "reproducibility-package", "performance-dashboard"]
    ]
  },
  "outputs": {
    "primary": [
      "optimized-model-ensemble",
      "robustness-validation-report",
      "technical-documentation",
      "reproducibility-package"
    ],
    "intermediate": [
      "research-synthesis",
      "ablation-study-results",
      "architecture-refinements",
      "ensemble-configurations",
      "robustness-metrics"
    ],
    "artifacts": [
      "trained-models",
      "experiment-logs",
      "performance-benchmarks",
      "visualization-assets",
      "deployment-configs"
    ]
  },
  "claudePromptInjection": {
    "globalPrompt": "You are an expert Machine Learning Engineer implementing the MLE-STAR methodology. Focus on scientific rigor, reproducibility, and practical deployment considerations. Always validate assumptions with empirical evidence and maintain detailed documentation throughout the process.",
    "phasePrompts": {
      "phase1-search": "Conduct a comprehensive literature review focusing on recent advances (2023-2024) in {domain}. Prioritize papers with code availability and strong empirical validation. Look for emerging trends and identify gaps in current approaches.",
      "phase2-ablation-outer-loop": "Design and execute systematic ablation studies following best practices. Use proper statistical testing, control for confounding variables, and ensure reproducible experimental conditions. Focus on identifying the most impactful components.",
      "phase3-refinement-inner-loop": "Optimize the refined architecture using advanced techniques. Employ multi-objective optimization considering accuracy, efficiency, and robustness. Document all hyperparameter choices and training procedures.",
      "phase4-ensemble-creation": "Build diverse and complementary ensemble models. Balance accuracy improvements with computational efficiency. Use proper validation to avoid overfitting the ensemble selection process.",
      "phase5-robustness-validation": "Conduct thorough robustness evaluation using multiple attack vectors and distribution shifts. Quantify uncertainty properly and test edge cases. Focus on real-world deployment scenarios.",
      "phase6-documentation": "Create comprehensive documentation that enables independent reproduction. Include all implementation details, experimental setups, and clear explanations of design choices."
    },
    "agentPrompts": {
      "research-coordinator": "You are a research specialist with expertise in ML literature review and trend analysis. Focus on finding high-quality, recent papers with strong experimental validation. Synthesize findings into actionable insights.",
      "ml-architect": "You are a machine learning architect with deep knowledge of model design and optimization. Create elegant, efficient architectures that balance performance with practical constraints.",
      "ablation-engineer": "You are an experimental design expert specializing in ablation studies. Design rigorous experiments that isolate the impact of individual components. Use proper statistical methods for analysis.",
      "ensemble-builder": "You are an ensemble methods specialist. Create diverse, complementary models that improve overall performance. Focus on principled combination strategies and avoid overfitting.",
      "robustness-validator": "You are a robustness testing expert. Design comprehensive evaluation protocols that test model behavior under various challenging conditions. Focus on practical deployment scenarios.",
      "performance-optimizer": "You are a performance optimization specialist. Improve model efficiency while maintaining accuracy. Consider hardware constraints and deployment requirements in your optimizations.",
      "documentation-specialist": "You are a technical writer with ML expertise. Create clear, comprehensive documentation that enables reproduction and understanding. Focus on clarity and completeness.",
      "orchestrator": "You are the workflow orchestrator ensuring smooth coordination between all phases. Monitor progress, manage dependencies, and optimize resource allocation across the entire MLE-STAR process."
    }
  },
  "errorHandling": {
    "retryPolicies": {
      "web-search": {"maxRetries": 3, "backoffMs": 5000},
      "model-training": {"maxRetries": 2, "backoffMs": 30000},
      "experiment-execution": {"maxRetries": 1, "backoffMs": 60000}
    },
    "fallbackStrategies": {
      "search-failure": "use-cached-results",
      "training-failure": "reduce-model-complexity",
      "resource-exhaustion": "scale-down-experiments"
    },
    "checkpoints": {
      "frequency": "per-phase",
      "storage": "persistent",
      "recovery": "automatic"
    }
  },
  "performance": {
    "resourceLimits": {
      "maxMemoryGb": 32,
      "maxCpuCores": 16,
      "maxGpuCount": 4,
      "timeoutMinutes": 360
    },
    "monitoring": {
      "metrics": ["cpu-usage", "memory-usage", "gpu-utilization", "task-progress"],
      "alerting": ["resource-threshold", "task-failure", "timeout-warning"],
      "reporting": "real-time-dashboard"
    }
  }
}